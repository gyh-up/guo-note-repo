# Redis介绍

## 简介

**`redis`是一个`key-value`存储系统**。它支持存储的`value`类型相对更多，包括**`string`(字符串)、`list`(链表)、`set`(集合)、`zset`(`sorted set` -- 有序集合)和 `hash`（哈希类型）**。这些数据类型都支持`push/pop`、 `add/remove`及取交集并集和差集及更丰富的操作，而且这些操作都是原子性的。在此基础上，`redis`支持各种不同方式的排序。**为了保证效率，数据都是缓存在内存中 。**

书籍参考：《`Redis` 设计与实现》http://redisbook.com/index.html#

## 为什么会出现`redis`

对于网页来说数据来自于数据库，而数据库实际上是存在这性能的瓶颈（一般单表早期的瓶颈就在`2000w`了--[索引的优化效率瓶颈]）

即使是做了主从以及集群架构也依然还是会有速率的问题，因此这个时候以内存暂时存储数据的想法就横空出世了。

## **`redis`的特性**

一、速度快 

正常情况下，`Redis`执行命令的速度非常快，官方给出的数字是**读写性能可以达到10万/秒（读11万次/秒，写8万次/秒）**，当然这也取决于机器的性能，但这里先不讨论机器性能上的差异，只分析一下是什么造就了`Redis`除此之快的速度，可以大致归纳为以下四点：

1. `Redis`的**所有数据都是存放在内存中的**，所以把**数据放在内存中是`Redis`速度快**的最主要原因。 
2. `Redis`是用**`C`语言实现的，一般来说`C`语言实现的程序“距离”操作系统更近，执行速度相对会更快**，无需像`php`要先解析成`opcode`再编译成`machine code`。 
3. **`Redis`使用了单线程架构，预防了多线程可能产生的竞争问题**。 
4. 作者对于`Redis`源代码可以说是精打细磨，曾经有人评价`Redis`是少有的集性能和优雅于一身的开源代码。 

二、基于`key-value `

几乎所有的编程语言都提供了类似字典的功能，例如`Java`里的`map`、`Python`里的`dict`，类似于这种组织数据的方式叫作基于键值的方式，与很多键值对数据库不同的是，`Redis` 中的值不仅可以是字符串，而且还可以是具体的数据结构，这样不仅能便于在许多应用场景的开发，同时也能够提高开发效率。

`Redis` 的全称是`REmote Dictionary Server`，它主要提供了5种数据结构：字符串、哈希、列表、集合、有序集合，同时在字符串的基础之上演变出了位图( `Bitmaps`)和`HyperLogLog`两种神奇的“数据结构”，并且随着`LBS` ( `Location BasedService`，基于位置服务)的不断发展，`Redis 3.2`版本中加人有关`GEO` (地理信息定位)的功能，总之在这些数据结构的帮助下，开发者可以开发出各种“有意思”的应用。 

三、丰富的功能 

除了5种数据结构，`Redis`还提供了许多额外的功能: 

1. 提供了键过期功能，可以用来实现缓存。 
2. 供了发布订阅功能，可以用来实现消息系统。 
3. 支持`Lua`脚本功能，可以利用`Lua`创造出新的`Redis`命令。 
4. 提供了简单的事务功能，能在一定程度 上保证事务特性。 
5. 提供了流水线( `Pipeline`)功能，这样客户端能将-批命令-一次性传到`Redis`，减少网络的开销。 
